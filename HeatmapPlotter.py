import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

# Provided data
data = [-0.421663282,
-0.199020598,
-0.109807646,
-0.241389158,
-0.430961942,
-0.07484598,
-0.061020508,
-0.108536978,
-0.060736521,
-0.031819621,
-1.979819399,
0,
0,
0,
0,
-0.042977672,
-0.193078139,
0,
-0.18394698,
0,
-1.708883276,
-1.946390646,
0,
-0.820405932,
0,
-0.026774178,
-1.003150149,
0,
0,
-0.882264379,
0,
-1.391012213,
-0.454593502,
-0.337824909,
-1.223561167,
-0.988606853,
-0.473593684,
0,
-0.208315866,
-0.034497529,
-0.702922891,
-1.779090985,
-6.641189037,
0,
-0.36032252,
-0.854769611,
-1.085868125,
-0.726822093,
-1.610416766,
0,
-0.157720954,
-1.158487606,
-1.397355972,
0,
-1.129937878,
-0.019892725,
0,
-0.396824059,
-0.599642194,
-0.635993847,
-0.903652912,
-1.233590445,
-0.73292024,
-0.765615549,
0,
0,
-1.629031172,
-0.749805449,
-1.220725785,
-0.987021889,
-0.077998763,
-0.31082644,
-0.530660186,
-0.292674389,
-0.024282063,
-0.231429772,
-0.28517273,
-0.27391317,
0,
0,
-0.827771299,
0,
-0.124289345,
0,
-0.241662202,
-0.430222157,
-0.468056457,
-0.52349402,
0,
0,
0,
-0.066089629,
-0.578472851,
0,
-0.269753053,
-0.557540462,
-0.519345215,
-0.967243504,
-0.831829116,
0,
-0.918467391,
0,
-1.038727675,
-1.216346349,
-0.698848419,
0,
-0.157058097,
0,
-0.042684552,
0,
-0.384498479,
0,
-1.073971161,
0,
0,
-1.177035688,
0,
-0.438054641,
-0.747334925,
-0.692232648,
-0.193378981,
-0.178277056,
-0.549403654,
-0.992748746,
-0.737982881,
-0.817636498,
-0.832015569,
-0.562275036,
-0.87755025,
-0.575809526,
0,
-0.61761047,
0,
-1.027702728,
-0.179451478,
-1.685121042,
-0.821457419,
0,
-0.536286468,
-0.809435589,
-0.703056514,
-0.180552008,
-0.640515384,
-0.86167929,
-0.40887867,
-0.701142988,
-0.61605669,
-0.811836247,
-0.424158931,
-0.759487747,
0,
-1.36004736,
-1.202935523,
0,
-0.74763641,
-0.600971347,
-0.712396097,
-0.457260285,
-0.299364638,
-0.3382192,
0,
-0.921075199,
-0.780688956,
0,
-0.434886952,
0,
0,
-0.460964846,
0,
0,
-0.442186698,
-0.540840842,
-0.701055456,
-0.277243392,
-0.47734957,
-1.573641922,
0,
-0.085532533,
-0.266933595,
-0.672379142,
-0.749080425,
-0.459929327,
-0.460556383,
-0.966736864,
-0.066402285,
0,
-0.365483288,
-0.588748971,
0,
0,
-0.67981688,
-0.768700741,
-0.417643961,
-0.05542492,
-0.078297034,
-1.058712381,
-0.583528725,
-0.893255067,
-0.147043088,
0,
-0.501330894,
-0.888660004,
-0.582310007,
0,
-1.121075725,
-0.668508777,
-0.627206401,
-0.638180791,
-0.721963446,
-0.595044927,
-0.174502631,
-1.315773432,
-1.033360409,
0,
-0.630834112,
-0.510911047,
-0.235560865,
0,
0,
-1.422848678,
-0.640511655,
-1.472142283,
-0.582093818,
-0.094171521,
0,
-0.308505907,
-0.49311724,
-0.625728098,
-0.864672821,
-0.697349173,
-0.701754813,
-0.388907072,
-0.892138422,
0,
-0.955677949,
-0.882987764,
-0.120150783,
-0.372111869,
-0.498278819,
-0.478472123,
-0.042953859,
0,
-0.864930471,
-1.081680082,
-0.14308146,
-0.969816974,
0,
-0.460885884,
0,
-0.430714831,
0,
-0.181539962,
-0.553590692,
-0.283818343,
0,
0
]

# Assuming data is a flattened 15x15 matrix
n = 16  # Size of the matrix
matrix = np.array(data).reshape(n, n)

# Plotting the heatmap
plt.figure(figsize=(8, 8))  # Increase figure size for better visibility
sns.heatmap(matrix, annot=True, fmt=".1f", linewidths=.5, square=True, cmap='YlOrBr')
plt.title('Retract Attractive Force Heatmap (nN)')
plt.xlabel('X Position')
plt.ylabel('Y Position')
plt.show()
plt.savefig('Retract heatmap.png')
plt.close()
